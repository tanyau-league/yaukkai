<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>Yaukkai</title>
		<link rel="stylesheet" href="css/index.css">
		<script src="https://kit.fontawesome.com/353dd169e9.js" crossorigin="anonymous"></script>
	</head>
	<body>
		<div class="kuroi"></div>
		<div class="popup">
			<p class="cancel">取消</p>
			<h1>标题</h1>
			<ul>
			</ul>
			<input type="checkbox" class="auto_next" name="auto_next" checked />
			<label for="auto_next" class="auto_next">自动进入下一局</label>
			<p class="submit">提交</p>

		</div>
		<div class="tennsu">
			<p class="cancel">取消</p>
			<h1>自摸/荣和记录添加</h1>
			<p class="agaricha">自摸/荣和家</p>
			<div class="agaricha"><button>1</button>
				<button>2</button>
				<button>3</button>
				<button>4</button>
			</div>
			<p class="houchuucha">放铳家</p>
			<div class="houchuucha"><button>1</button>
				<button>2</button>
				<button>3</button>
				<button>4</button>
			</div>
			<p>番数</p>
			<div class="fan"><button class="chisa">1番</button>
				<button class="chisa">2番</button>
				<button class="chisa">3番</button>
				<button class="chisa">4番</button>
				<button>5番（满贯）</button>
				<button>6,7番（跳满）</button>
				<button>8,9,10番（倍满）</button>
				<button>11,12番（三倍满）</button>
				<button>13番（役满）</button>
				<button>两倍役满</button>
				<button>三倍役满</button>
				<button>四倍役满</button>
				<button>五倍役满</button>
				<button>六倍役满</button>
			</div>
			<p>符数</p>
			<div class="fu"><button>20</button>
				<button>25</button>
				<button>30</button>
				<button>40</button>
				<button>50</button>
				<button>60</button>
				<button>70</button>
				<button>80</button>
				<button>90</button>
				<button>100</button>
				<button>110</button>
			</div>
			<p class="temu">点数 x本场</p>
			<h2 class="big_temu"></h2>
			<input type="checkbox" id="auto_kyoutaku" name="auto_kyoutaku" checked />
			<label for="auto_kyoutaku">自动追加供托</label>
			<input type="checkbox" id="auto_next" name="auto_next" checked />
			<label for="auto_next">自动进入下一局</label>
			<p class="submit">提交</p>
		</div>
		<div class="hitori">
			<p class="cancel">取消</p>
			<h1>立直/流局满贯记录添加</h1>
			<p class="aite">立直/流局满贯家</p>
			<div class="aite"><button>1</button>
				<button>2</button>
				<button>3</button>
				<button>4</button>
			</div>
			<p class="submit">提交</p>
		</div>
		<div class="howann">
			<p class="cancel">取消</p>
			<h1>荒牌流局记录添加</h1>
			<p class="cha">选择听牌家</p>
			<div class="cha"><button>1</button>
				<button>2</button>
				<button>3</button>
				<button>4</button>
			</div>
			<input type="checkbox" id="auto_next" name="auto_next" checked />
			<label for="auto_next">自动进入下一局</label>
			<p class="submit">提交</p>
		</div>
		<ol>
			<li>
				<div id='mainpage'>
					<div class="header">
						<h1>Yaukkai</h1>
						<button class="rename">选手名设定</button>
					</div>
					<div class="rounds">
						<ul>
							<!-- <li>
								<div class="title"><p>东一局 0本场</p><span>0供托</span></div>
								<div class="enter"><i class="fa-solid fa-bars"></i></div>
							</li> -->
						</ul>
					</div>
					<div class="selround">
						<p class="itt">东x局 y本场</p>
						<button class="setting"><i class="fa-solid fa-gear"></i></button>
						<button class="addup"><i class="fa-solid fa-arrow-up"></i><i
								class="fa-solid fa-plus"></i></button>
						<button class="adddown"><i class="fa-solid fa-arrow-down"></i><i
								class="fa-solid fa-plus"></i></button>
						<button class="delete"><i class="fa-solid fa-trash"></i></button>
					</div>
					<div class="score">
						<ul>
							<li>
								<span class="name">选手A</span>
								<span class="tenn">250,00</span>
								<span class="pt">+0.0</span>
								<span class="rank">1位</span>
							</li>
							<li>
								<span class="name">选手B</span>
								<span class="tenn">250,00</span>
								<span class="pt">+0.0</span>
								<span class="rank">1位</span>
							</li>
							<li>
								<span class="name">选手C</span>
								<span class="tenn">250,00</span>
								<span class="pt">+0.0</span>
								<span class="rank">1位</span>
							</li>
							<li>
								<span class="name">选手D</span>
								<span class="tenn">250,00</span>
								<span class="pt">+0.0</span>
								<span class="rank">1位</span>
							</li>
						</ul>
					</div>
					<div class="file">
						<button class="autosave">手动存档</button>
						<button class="fromautosave">从存档恢复</button>
						<button class="loadin">导入外部数据</button>
						<button class="download">本地下载数据</button>
						<button class="upload">上传数据到云端系统</button>
						<button class="helping">帮助</button>
					</div>
				</div>
			</li>
			<li>
				<div id="rnd">
					<div class="header">
						<h1>Yaukkai</h1>
					</div>
					<div class="datas">
						<h1>
							<button><i class="fa-solid fa-arrow-left"></i></button><span>东x局y本场</span> - 对局记录
						</h1>

						<ul>
							<li>
								<div class="num">
									<p class="title">荣和</p>
									<p class="detail">1+1000,2-1000</p>
								</div>
								<div class="fix"><i class="fa-solid fa-gear"></i></div>
								<div class="del"><i class="fa-solid fa-trash"></i></div>
							</li>
						</ul>

					</div>
					<div class="op">
						<div class="prev_round"><i class="fa-solid fa-arrow-left"></i>上一局</div>
						<div class="next_round">下一局<i class="fa-solid fa-arrow-right"></i></div><br>
						<div class="add_tsumo tsumo">自摸</div>
						<div class="add_ron ron">荣和</div>
						<div class="add_reach reach">立直</div>
						<div class="add_agari_kyoutaku agari_kyoutaku">和牌供托</div>
						<div class="add_howannpai_ryuukyoku howannpai_ryuukyoku">荒牌流局</div>
						<div class="add_chuuto_ryuukyoku chuuto_ryuukyoku">途中流局</div>
						<div class="add_ryuumann ryuumann">流局满贯</div>

					</div>
					<div class="temp_score">
						<p>本局后点数情况</p>
						<ol>
							<li>AA 25000</li>
							<li>AA 25000</li>
							<li>AA 25000</li>
							<li>AA 25000</li>
						</ol>
					</div>
				</div>
			</li>
			<li class="help">
				<div class="heading"><p><i class="fa-solid fa-arrow-left"></i></p><h1>Yaukkai 帮助</h1></div>
				<ul>
					<li>
						<div>
							<h2>默认规则</h2>
							<ul>
								<li>TanyauLeague 规则。</li>
								<li>无西入，默认无切上满贯，pt 计算依照 m-league 算法。</li>
								<li>切上满贯可以直接选择满贯，系统不记录具体的番符。</li>
								<li>在进入下一局以及供托自动分配的默认选项中，默认一局只有一人和牌（头跳）。如果由于多人和牌导致的供托和连庄问题，请手动修正。</li>
							</ul>
						</div>
					</li>
					<li>
						<div>
							<h2>局的操作</h2>
							<ul>
								<li>注意页面右上角可以设置选手名。</li>
								<li>每次刷新时自动有东一局0本场。</li>
								<li><b>选择某一局（变成绿色）</b>之后，可以在中间操作栏手动修改局目，本场，供托，在本局之前/之后添加一局，删除本局。</li>
								<li>点击每一局右侧的按钮进入该局详细信息的设定。</li>
							</ul>
						</div>
					</li>
					<li>
						<div>
							<h2>每局记录的操作</h2>
							<ul>
								<li>进入详细信息页面之后，下面的按钮可以在最后添加记录。每一条记录右侧可以手动修正和删除。</li>
								<li>自摸和荣和：选择和牌家，放铳家，番符之后自动生成点数，点击确认完成添加</li>
								<li>立直，和牌供托，途中流局，流局满贯是简单的选项和填空。</li>
								<li>注意荒牌流局可以<b>多选</b>。</li>
								<li><b>配备了自动下一局和自动供托分配机能。</b>一般建议打开。</li>
								<li>信息的最下方有本局操作完成后的点数，供检查。</li>
							</ul>
						</div>
					</li>
					<li>
						<div>
							<h2>数据相关</h2>
							<ul>
								<li>主页面显示当前选手的分数，pt，顺位。最下面有几个数据相关的按钮：</li>
								<li>【手动存档】点击后立即存档。只有一个存档位，存档位置伴随浏览器，不会因刷新丢失。</li>
								<li>【从存档恢复】从上述存档恢复记录。</li>
								<li>【导入外部数据】导入要求格式的数据即可在本系统查看具体对局记录。</li>
								<li>【本地下载数据】保存本局数据并下载为文件。</li>
								<li>【上传数据到云端系统】和 tanyau-league 官网的数据联动，需要提供正确的 token.</li>
							</ul>
						</div>
					</li>
					<li>
						<div>
							<h2>开发者提示、联系方式</h2>
							<ul>
								<li>本项目隶属于联盟 <a href="https://tanyau-league.github.io/" target="_blank">TanyauLeague</a>. </li>
								<li>开发者是 haraki. 微信 harakiseki.</li>
								<li>本项目基于原生 js 开发，比较笨拙，主要灵活的一点有利用 popup+callback 操作.</li>
								<li>如果遇到任何问题或者有任何建议，请截图或尝试复现，微信反馈，非常感谢！</li>
							</ul>
						</div>
					</li>
				</ul>
			</li>
		</ol>
	</body>
	<script src="js/popup.js"></script>
	<script src="js/score.js"></script>
	<script src="js/index.js"></script>
	<script src="js/select_round.js"></script>
	<script src="js/agari.js"></script>
	<script src="js/reach.js"></script>
	<script src="js/howann.js"></script>
	<script src="js/add_round.js"></script>
	<script src="js/file.js"></script>
	<script src="js/help.js"></script>
	<script type="text/javascript">
		window.onload = function() {
			document.addEventListener('touchstart', function(event) {
				if (event.touches.length > 1) {
					event.preventDefault();
				}
			});
			var lastTouchEnd = 0;
			document.addEventListener('touchend', function(event) {
				var now = (new Date()).getTime();
				if (now - lastTouchEnd <= 300) {
					event.preventDefault();
				}
				lastTouchEnd = now;
			}, false);
			document.addEventListener('gesturestart', function(event) {
				event.preventDefault();
			});
		}
	</script>
</html>
